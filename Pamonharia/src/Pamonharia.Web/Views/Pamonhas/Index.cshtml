@model IEnumerable<Pamonharia.Application.ViewModels.PamonhaViewModel>

@{ ViewData["Title"] = "Gerenciar Pamonhas"; }

<h2>@ViewData["Title"]</h2>

<div class="row mb-3">
    <div class="col-md-6">
        <a asp-action="Create" class="btn btn-primary">Nova Pamonha</a>
    </div>
    <div class="col-md-6">
        <input type="text" id="searchInput" class="form-control" placeholder="Buscar por sabor ou categoria..." />
    </div>
</div>

<div id="tabelaContainer">
    <partial name="_TabelaPamonhas" model="Model" />
</div>

@section Scripts {
    <script>
        document.getElementById("searchInput").addEventListener("keyup", function() {
            var termo = this.value;
            fetch(`/Pamonhas/Search?term=${termo}`)
                .then(response => response.text())
                .then(html => {
                    document.getElementById("tabelaContainer").innerHTML = html;
                });
        });
    </script>
}